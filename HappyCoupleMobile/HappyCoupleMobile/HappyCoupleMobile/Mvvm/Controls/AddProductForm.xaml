<?xml version="1.0" encoding="UTF-8"?>
<StackLayout xmlns="http://xamarin.com/schemas/2014/forms" 
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:controls="clr-namespace:HappyCoupleMobile.Mvvm.Controls;assembly=HappyCoupleMobile"
             xmlns:attached="clr-namespace:HappyCoupleMobile.Mvvm.AttachedProperties;assembly=HappyCoupleMobile"
             xmlns:carousel="clr-namespace:CarouselView.FormsPlugin.Abstractions;assembly=CarouselView.FormsPlugin.Abstractions"
             xmlns:toggleImages="clr-namespace:HappyCoupleMobile.Mvvm.Controls.ToggleImages;assembly=HappyCoupleMobile"
             xmlns:buttons="clr-namespace:HappyCoupleMobile.Mvvm.Controls.Buttons;assembly=HappyCoupleMobile"
             x:Class="HappyCoupleMobile.Mvvm.Controls.AddProductForm" 
             Spacing="0"
             x:Name="AddProductForm">
    <StackLayout Spacing="0" BackgroundColor="{StaticResource SecondColor}" VerticalOptions="FillAndExpand" BindingContext="{x:Reference AddProductForm}">
        <StackLayout Padding="5" VerticalOptions="StartAndExpand">
            <StackLayout>
                <Label Text="Twoja nazwa" TextColor="White"/>
                <StackLayout Orientation="Horizontal">
                    <Entry x:Name="NewNameEntry" Text="" HorizontalOptions="FillAndExpand" Placeholder="Podaj swoją nazwę produktu"></Entry>
                    <Image Style="{StaticResource EraseImageStyle}"
                                                attached:ClickEventAttached.ClickCommand="{Binding EraseEntryCommand}"
                                                 attached:ClickEventAttached.ClickParameter="{Binding Source={x:Reference NewNameEntry}}">
                        <Image.Triggers>
                            <DataTrigger TargetType="Image" Binding="{Binding Source={x:Reference NewNameEntry}, Path=Text.Length}" Value="0">
                                <Setter Property="Image.IsVisible" Value="False"/>
                            </DataTrigger>
                        </Image.Triggers>
                    </Image>
                </StackLayout>
            </StackLayout>
            <StackLayout>
                <Label Text="Ilość" TextColor="White"/>
                <StackLayout Orientation="Horizontal">
                    <Entry x:Name="AmontEntry" Text="" HorizontalOptions="FillAndExpand" Placeholder="Podaj ilość" Keyboard="Numeric"></Entry>
                    <Image Style="{StaticResource EraseImageStyle}"
                                                attached:ClickEventAttached.ClickCommand="{Binding EraseEntryCommand}"
                                                attached:ClickEventAttached.ClickParameter="{Binding Source={x:Reference AmontEntry}}">
                        <Image.Triggers>
                            <DataTrigger TargetType="Image" Binding="{Binding Source={x:Reference AmontEntry}, Path=Text.Length}" Value="0">
                                <Setter Property="Image.IsVisible" Value="False"/>
                            </DataTrigger>
                        </Image.Triggers>
                    </Image>
                </StackLayout>
            </StackLayout>
            <StackLayout>
                <Label Text="Komentarz" TextColor="White"/>
                <StackLayout Orientation="Horizontal">
                    <Entry x:Name="DescriptionEntry" Text="" Placeholder="Tu możesz coś dopisać"  HorizontalOptions="FillAndExpand"></Entry>
                    <Image Style="{StaticResource EraseImageStyle}"
                                                attached:ClickEventAttached.ClickCommand="{Binding EraseEntryCommand}"
                                                attached:ClickEventAttached.ClickParameter="{Binding Source={x:Reference DescriptionEntry}}">
                        <Image.Triggers>
                            <DataTrigger TargetType="Image" Binding="{Binding Source={x:Reference DescriptionEntry}, Path=Text.Length}" Value="0">
                                <Setter Property="Image.IsVisible" Value="False"/>
                            </DataTrigger>
                        </Image.Triggers>
                    </Image>
                </StackLayout>
            </StackLayout>
            <StackLayout>
                <StackLayout Orientation="Horizontal">
                    <Label VerticalTextAlignment="Center" Text="Dodaj do ulubionych" TextColor="White"/>
                    <toggleImages:FavouriteButton VerticalOptions="Start" HorizontalOptions="EndAndExpand" Toggled="OnProductAddedToFavourite"/>
                </StackLayout>
            </StackLayout>
        </StackLayout>
        <StackLayout Padding="5">
            <StackLayout Orientation="Vertical" x:Name="ProductTypesContainer"/>
        </StackLayout>
    </StackLayout>
</StackLayout>



